<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JomGather - Connect with Fellow Students</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/common.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/jomgather.css') }}">
  <script src="{{ url_for('static', filename='js/sound.js') }}"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
  
    
    body {
      background-color: #f5f5f5;
      color: #333;
    }
    
    .navbar {
      background-color: #0927af;
      height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      position: sticky;
      top: 0;
      z-index: 999;
    }
    
    .navbar__container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      max-width: 1300px;
      padding: 0 50px;
    }
    
    #navbar__logo {
      color: #ffffff;
      display: flex;
      align-items: center;
      cursor: pointer;
      text-decoration: none;
      font-size: 2rem;
      font-weight: bold;
    }
    
    .navbar__menu {
      display: flex;
      align-items: center;
      list-style: none;
    }
    
    .navbar__item {
      height: 80px;
      display: flex;
      align-items: center;
    }
    
    .navbar__links {
      color: #ffffff;
      display: flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      padding: 0 1rem;
      font-size: 2rem;
      height: 100%;
      transition: all 1s ease;
    }
    
    .navbar__links:hover {
      color: #ff0000
    }
    
    .button {
      display: flex;
      justify-content: center;
      align-items: center;
      text-decoration: none;
      padding: 10px 20px;
      height: 100%;
      width: 100%;
      border: none;
      outline: none;
      border-radius: 4px;
      background: #ff0000;
      color: #ffffff;
      transition: all 1s ease;
    }
    
    .button:hover {
      background: #aa0000;
    }

    .page-title {
      background: linear-gradient(rgba(255, 0, 0, 0.856), rgba(42, 177, 255, 0.829));
      color:#ffffff;
      padding: 40px 20px;
      text-align: center;
    }

    .page-title h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .page-title p {
      font-size: 1.2rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid #e0e0e0;
      margin-bottom: 30px;
    }

    .tab {
      padding: 12px 24px;
      cursor: pointer;
      border: none;
      background: none;
      font-size: 1rem;
      font-weight: 600;
      color: var(--dark-gray);
      border-bottom: 3px solid transparent;
      transition: all 1s ease;
    }

    .tab.active {
      color: #ff0000;
      border-bottom: 3px solid #ff0000;

    }

    .tab:hover:not(.active) {
      color: #0927af;
      border-bottom: 3px solid #0927af;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Find Partners Section */
    .filter-section {
      background: #ffffff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }

    .filter-title {
      color: #0927af;
      margin-bottom: 15px;
      font-size: 1.2rem;
    }

    .filter-form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-group label {
      display: block;
      margin-bottom: 5px;
      color: #333;
      font-weight: 500;
    }

    .form-group select,
    .form-group input {
      width: 100%;
      padding: 10px;
      border: 1px solid #5d5d5d;
      border-radius: 4px;
      font-size: 1rem;
    }

    .search-btn {
      background: #0927af;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 12px 24px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 1s ease;
      margin-top: 15px;
    }

    .search-btn:hover {
      background: #097aaf;
    }

    /* Results Section */
    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
    }

    .student-card {
      background: #ffffff;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }

    .student-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    }

    .student-image {
      height: 200px;
      width: 100%;
      background: #dadada;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .student-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .student-info {
      padding: 20px;
    }

    .student-name {
      font-size: 1.2rem;
      color: #0927af;
      margin-bottom: 5px;
    }

    .student-faculty {
      color: #ff0000;
      font-weight: 500;
      margin-bottom: 10px;
    }

    .student-interests {
      margin: 10px 0;
    }

    .interest-tag {
      display: inline-block;
      background: #dadada;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
      margin: 0 5px 5px 0;
    }

    .student-bio {
      font-size: 0.9rem;
      color: #333;
      line-height: 1.5;
      margin: 10px 0;
    }

    .connect-btn {
      background: #ff0000;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 8px 16px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 1s ease;
      width: 100%;
      margin-top: 10px;
    }

    .connect-btn:hover {
      background: #c41019;
    }

    /* Create Gathering Section */
    .event-form {
      background: #ffffff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .event-form textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #000000;
      border-radius: 4px;
      font-size: 1rem;
      min-height: 120px;
      resize: vertical;
    }

    .create-btn {
      background: #0927af;
      color: #ffffff;
      border: none;
      border-radius: 4px;
      padding: 12px 24px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }

    .create-btn:hover {
      background: #006eff;
    }

    /* My Gatherings Section */
    .gathering-card {
      background: #ffffff;
      border-radius: 8px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 20px;
      border-left: 5px solid #0927af;
    }

    .gathering-card.hosting {
      border-left-color: #ff0000;
    }

    .gathering-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .gathering-title {
      font-size: 1.3rem;
      color: #0927af;
      margin-bottom: 5px;
    }

    .gathering-status {
      background: #0927af;
      color: #ffffff;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.8rem;
    }

    .gathering-status.hosting {
      background: #ff0000;
    }

    .gathering-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 15px;
    }

    .detail-item {
      display: flex;
      align-items: center;
    }

    .detail-label {
      font-weight: 600;
      margin-right: 10px;
      color: #333;
    }

    .gathering-description {
      margin: 15px 0;
      color: #333;
      line-height: 1.5;
    }

    .gathering-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .action-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 4px;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 1s ease;
    }

    .primary-btn {
      background: #0927af;
      color: #ffffff;
    }

    .primary-btn:hover {
      background: #006eff;
    }

    .secondary-btn {
      background: #ffffff;
      color: #0927af;
      border: 2px solid #0927af;
    }

    .secondary-btn:hover {
      background: #cfcfcf;
    }

    .danger-btn {
      background: #ff0000;
      color: #ffffff;
    }

    .danger-btn:hover {
      background: #c41019;
    }

    .attendees-list {
      margin-top: 15px;
    }

    .attendees-title {
      font-size: 1rem;
      color: #0927af;
      margin-bottom: 10px;
    }

    .attendees {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .attendee {
      display: flex;
      align-items: center;
      background: #cfcfcf;
      padding: 5px 10px;
      border-radius: 20px;
      font-size: 0.9rem;
    }

    .attendee img {
      width: 25px;
      height: 25px;
      border-radius: 50%;
      margin-right: 5px;
    }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="navbar__container">
        <a href="{{ url_for('index') }}" id="navbar__logo">JomGather</a>
        <div class="navbar__toggle" id="mobile-menu">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
        <ul class="navbar__menu">
            <li class="navbar__item">
                <a href="{{ url_for('index') }}" class="navbar__links">Home</a>
            </li>            
            <li class="navbar__item">
                <a href="{{ url_for('customise') }}" class="navbar__links">Customize Profile</a>
            </li>
            <li class="navbar__item">
                <a href="{{ url_for('match') }}" class="navbar__links">Mix & Match</a>
            </li>
            <li class="navbar__item">
                <a href="{{ url_for('view_connections') }}" class="navbar__links">My Connections</a>
            </li>
            <li class="navbar__btn">
              <a href="{{ url_for('logout') }}" class="button">Logout</a>
            </li>
        </ul>
    </div>
  </nav>

  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="flash-messages" style="max-width: 1200px; margin: 20px auto 0; padding: 0 20px;">
        {% for category, message in messages %}
          <div class="flash-message" style="padding: 12px 20px; border-radius: 4px; margin-bottom: 15px;
                 {% if category == 'success' %}
                   background-color: #dff0d8; color: #3c763d; border: 1px solid #d6e9c6;
                 {% elif category == 'error' %}
                   background-color: #f2dede; color: #a94442; border: 1px solid #ebccd1;
                 {% else %}
                   background-color: #d9edf7; color: #31708f; border: 1px solid #bce8f1;
                 {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <div class="page-title">
    <h1>Jom Gather</h1>
    <p>Connect with fellow MMU students for study sessions, hangouts, and events</p>
  </div>

  <div class="container">
    <div class="tabs">
      <button class="tab {% if active_tab == 'find-partners' %}active{% endif %}" onclick="showTab('find-partners')" data-tab-id="find-partners">Find Partners</button>
      <button class="tab {% if active_tab == 'my-partners' %}active{% endif %}" onclick="showTab('my-partners')" data-tab-id="my-partners">My Partners</button>
      <button class="tab {% if active_tab == 'create-gathering' %}active{% endif %}" onclick="showTab('create-gathering')" data-tab-id="create-gathering">Create Gathering</button>
      <button class="tab {% if active_tab == 'my-gatherings' %}active{% endif %}" onclick="showTab('my-gatherings')" data-tab-id="my-gatherings">My Gatherings</button>
      <button class="tab {% if active_tab == 'find-gatherings' %}active{% endif %}" onclick="showTab('find-gatherings')" data-tab-id="find-gatherings">Find Gatherings</button>
    </div>

    <div id="find-partners" class="tab-content {% if active_tab == 'find-partners' %}active{% endif %}">
      <div class="filter-section">
        <h3 class="filter-title">Find Students By:</h3>
        <form action="{{ url_for('jomgather') }}" method="GET" id="student-search-form">
          <input type="hidden" name="tab" value="find-partners">
          <div class="filter-form">
            <div class="form-group">
              <label for="faculty">Faculty</label>
              <select id="faculty" name="faculty">
                <option value="">All Faculties</option>
                {% for faculty in faculties %}
                  <option value="{{ faculty }}">{{ faculty }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group">
              <label for="course">Course</label>
              <select id="course" name="course">
                <option value="">All Courses</option>
                {% for course in courses %}
                  <option value="{{ course }}">{{ course }}</option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group">
              <label for="year">Year of Study</label>
              <select id="year" name="year">
                <option value="">Any Year</option>
                <option value="1">1st Year</option>
                <option value="2">2nd Year</option>
                <option value="3">3rd Year</option>
                <option value="4">4th Year</option>
                <option value="5">5th Year</option>
              </select>
            </div>
            <div class="form-group">
              <label for="interests">Interests</label>
              <input type="text" id="interests" name="interests" placeholder="E.g. programming, sports, music">
            </div>
          </div>
          <button type="submit" class="search-btn">Find Students</button>
        </form>
      </div>

      <div class="results-section" id="search-results">
        {% if students %}
          <div class="results-count">
            {% if search_performed %}
              Found {{ students|length }} student{% if students|length != 1 %}s{% endif %} matching your criteria
            {% else %}
              Showing all {{ students|length }} student{% if students|length != 1 %}s{% endif %}
            {% endif %}
          </div>
          
          <div class="results-grid">
            {% for student in students %}
              <div class="student-card">
                <div class="student-image">
                  {% if student.customisation.profile_picture %}
                    <img src="{{ url_for('static', filename='uploads/' + student.customisation.profile_picture) }}" alt="{{ student.username }}'s profile">
                  {% else %}
                    <div style="font-size: 50px; color: #aaa;">ðŸ‘¤</div>
                  {% endif %}
                </div>
                <div class="student-info">
                  <h3 class="student-name">{{ student.username }}</h3>
                  {% if student.customisation.faculty %}
                    <div class="student-faculty">{{ student.customisation.faculty }}</div>
                  {% endif %}
                  <div class="student-details">
                    {% if student.customisation.course %}
                      {{ student.customisation.course }}
                    {% endif %}
                    {% if student.customisation.year_of_study %}
                      â€¢ {{ student.customisation.year_of_study }}{% if student.customisation.year_of_study == 1 %}st{% elif student.customisation.year_of_study == 2 %}nd{% elif student.customisation.year_of_study == 3 %}rd{% else %}th{% endif %} Year
                    {% endif %}
                  </div>
                  
                  {% if student.customisation.interests %}
                    <div class="student-interests">
                      {% for interest in student.customisation.interests.split(',') %}
                        {% if interest.strip() %}
                          <span class="interest-tag">{{ interest.strip() }}</span>
                        {% endif %}
                      {% endfor %}
                    </div>
                  {% endif %}
                  
                  {% if student.customisation.bio %}
                    <div class="student-bio">
                      {{ student.customisation.bio|truncate(150) }}
                    </div>
                  {% endif %}
                  
                  <form action="{{ url_for('connect_with_user', user_id=student.id) }}" method="POST">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <button type="submit" class="connect-btn">Connect</button>
                  </form>
                </div>
              </div>
            {% endfor %}
          </div>
        {% elif search_performed %}
          <div class="no-results">
            <h3>No matching students found</h3>
            <p>Try adjusting your search filters or check back later as more students join!</p>
          </div>
        {% endif %}
      </div>
    </div>

    <!-- My Partners Tab -->
    <div id="my-partners" class="tab-content {% if active_tab == 'my-partners' %}active{% endif %}">
        <div class="filter-section">
          <h3 class="filter-title">Find Students By:</h3>
          <form action="{{ url_for('jomgather') }}" method="GET" id="student-search-form-partners">
            <input type="hidden" name="tab" value="my-partners">
            <div class="filter-form">
              <div class="form-group">
                <label for="faculty">Faculty</label>
                <select id="faculty" name="faculty">
                  <option value="">All Faculties</option>
                  {% for faculty in faculties %}
                    <option value="{{ faculty }}">{{ faculty }}</option>
                  {% endfor %}
                </select>
              </div>
              <div class="form-group">
                  <label for="course">Course</label>
                  <select id="course" name="course">
                    <option value="">All Courses</option>
                    {% for course in courses %}
                      <option value="{{ course }}">{{ course }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="form-group">
                  <label for="year">Year of Study</label>
                  <select id="year" name="year">
                    <option value="">Any Year</option>
                    <option value="1">1st Year</option>
                    <option value="2">2nd Year</option>
                    <option value="3">3rd Year</option>
                    <option value="4">4th Year</option>
                    <option value="5">5th Year</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="interests">Interests</label>
                  <input type="text" id="interests" name="interests" placeholder="E.g. programming, sports, music">
                </div>
              </div>
              <button type="submit" class="search-btn">Find Students</button>
            </div>
          </form>
          </div>
  
      <div class="results-section" id="search-results-partners">
        {% if connected_partners %}
          <div class="results-count">
            {% if search_performed %}
              Found {{ connected_partners|length }} partner{% if connected_partners|length != 1 %}s{% endif %} matching your criteria
            {% else %}
              Showing all {{ connected_partners|length }} partner{% if connected_partners|length != 1 %}s{% endif %}
            {% endif %}
          </div>
          
          <div class="results-grid">
            {% for partner in connected_partners %}
              <div class="student-card">
                <div class="student-image">
                  {% if partner.customisation and partner.customisation.profile_picture %}
                    <img src="{{ url_for('static', filename='uploads/' + partner.customisation.profile_picture) }}" alt="{{ partner.username }}'s profile">
                  {% else %}
                    <div style="font-size: 50px; color: #aaa;">ðŸ‘¤</div>
                  {% endif %}
                </div>
                <div class="student-info">
                  <h3 class="student-name">{{ partner.username }}</h3>
                  {% if partner.customisation and partner.customisation.faculty %}
                    <div class="student-faculty">{{ partner.customisation.faculty }}</div>
                  {% endif %}
                  <div class="student-details">
                    {% if partner.customisation and partner.customisation.course %}
                      {{ partner.customisation.course }}
                    {% endif %}
                    {% if partner.customisation and partner.customisation.year_of_study %}
                      â€¢ {{ partner.customisation.year_of_study }}{% if partner.customisation.year_of_study == 1 %}st{% elif partner.customisation.year_of_study == 2 %}nd{% elif partner.customisation.year_of_study == 3 %}rd{% else %}th{% endif %} Year
                    {% endif %}
                  </div>
                  
                  {% if partner.customisation and partner.customisation.interests %}
                    <div class="student-interests">
                      {% for interest in partner.customisation.interests.split(',') %}
                        {% if interest.strip() and interest.strip() != 'None' %}
                          <span class="interest-tag">{{ interest.strip() }}</span>
                        {% endif %}
                      {% endfor %}
                    </div>
                  {% endif %}
                  
                  {% if partner.customisation and partner.customisation.bio %}
                    <div class="student-bio">
                      {{ partner.customisation.bio|truncate(150) }}
                    </div>
                  {% endif %}
                  
                  <a href="{{ url_for('chat', user_id=partner.id) }}" class="connect-btn">Message</a>
                </div>
              </div>
            {% endfor %}
          </div>
        {% elif search_performed %}
          <div class="no-results">
            <h3>No matching partners found</h3>
            <p>Try adjusting your search filters or connect with more students!</p>
          </div>
        {% else %}
          <div class="no-results"></div>
        {% endif %}
      </div>
    </div>
  
      <!-- Create Gathering Tab -->
      <div id="create-gathering" class="tab-content {% if active_tab == 'create-gathering' %}active{% endif %}">
          <div class="event-form">
            <h3 class="filter-title">Create a New Gathering</h3>
            <div class="form-row">
              <div class="form-group">
                <label for="eventTitle">Gathering Title</label>
                <input type="text" id="eventTitle" name="eventTitle" placeholder="E.g. Programming Study Group">
              </div>
              <div class="form-group">
                <label for="eventType">Gathering Type</label>
                <select id="eventType" name="eventType">
                  <option value="study">Study Session</option>
                  <option value="project">Project Collaboration</option>
                  <option value="social">Social Hangout</option>
                  <option value="sports">Sports Activity</option>
                  <option value="sports">Gaming Hangout</option>
                  <option value="other">Other</option>
                </select>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                  <label for="eventTitle">Faculty Focus</label>
                  <select id="eventType" name="eventType">
                      <option value="study">Faculty of Multimedia</option>
                      <option value="project">Faculty of Computing Informatics</option>
                      <option value="social">Faculty of Management</option>
                      <option value="sports">Faculty of Engineering</option>
                      <option value="sports">Faculty of Applied Communication</option>
                      <option value="sports">Faculty of Cinematic Arts</option>
                      <option value="other">Other</option>
                    </select>
              </div>
              <div class="form-group">
                  <label for="eventTitle">Year & Semester</label>
                  <input type="text" id="eventTitle" name="eventTitle" placeholder="E.g. Year 1 Sem 3">
              </div>       
          </div>  
            <div class="form-row">
              <div class="form-group">
                <label for="eventDate">Date</label>
                <input type="date" id="eventDate" name="eventDate">
              </div>
              <div class="form-group">
                <label for="eventTime">Time</label>
                <input type="time" id="eventTime" name="eventTime">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label for="eventLocation">Location</label>
                <input type="text" id="eventLocation" name="eventLocation" placeholder="E.g. Library Study Room 3, FCI Building">
              </div>
              <div class="form-group">
                <label for="maxAttendees">Maximum Participants</label>
                <input type="number" id="maxAttendees" name="maxAttendees" min="1" max="50" placeholder="E.g. 10">
              </div>
            </div>
            <div class="form-group">
              <label for="eventDescription">Description</label>
              <textarea id="eventDescription" name="eventDescription" placeholder="Describe your gathering, its purpose, and what participants should expect or bring..."></textarea>
            </div>
            <div class="form-group">
              <label for="targetAudience">Target Audience (Optional)</label>
              <input type="text" id="targetAudience" name="targetAudience" placeholder="E.g. Software Development students, 2nd year Advertising Design students">
            </div>
            <button class="create-btn">Create Gathering</button>
          </div>
        </div>
    
        <!-- My Gatherings Tab -->
        <div id="my-gatherings" class="tab-content {% if active_tab == 'my-gatherings' %}active{% endif %}">
          <!-- Hosting Gathering -->
          <div class="gathering-card hosting">
            <div class="gathering-header">
              <div>
                <h3 class="gathering-title">Web Development Project Group</h3>
                <span class="gathering-status hosting">Hosting</span>
              </div>
              <div>
                <p>Created on: August 20, 2025</p>
              </div>
            </div>
            <div class="gathering-details">
              <div class="detail-item">
                <span class="detail-label">Faculty:</span>
                <span>Faculty of Computing and Informatics</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Year & Semester:</span>
                <span>Year 2 Sem 2</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Date:</span>
                <span>August 25, 2025</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Time:</span>
                <span>2:00 PM - 5:00 PM</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Location:</span>
                <span>FCI Lounge</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Gathering Type:</span>
                <span>Project Collaboration</span>
              </div>
              
            </div>
            <p class="gathering-description">Working on the semester project for Web Application Development. We'll be discussing the frontend implementation using React and planning the backend architecture. Please bring your laptops with the dev environment set up.</p>
            <div class="attendees-list">
              <h4 class="attendees-title">Participants (3/5):</h4>
              <div class="attendees">
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>You (Host)</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Ahmad</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Sarah</span>
                </div>
              </div>
            </div>
            <div class="gathering-actions">
              <button class="action-btn primary-btn">Edit Details</button>
              <button class="action-btn secondary-btn">Message All</button>
              <button class="action-btn danger-btn">Cancel Gathering</button>
            </div>
          </div>
    
          <!-- Attending Gathering -->
          <div class="gathering-card">
            <div class="gathering-header">
              <div>
                <h3 class="gathering-title">AI Study Group</h3>
                <span class="gathering-status">Attending</span>
              </div>
              <div>
                <p>Hosted by: Wesley </p>
              </div>
            </div>
            <div class="gathering-details">
              <div class="detail-item">
                <span class="detail-label">Faculty:</span>
                <span>Other</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Year & Semester:</span>
                <span>No specifications</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Date:</span>
                <span>Septemer 23, 2025</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Time:</span>
                <span>9:00 AM - 11:00 AM</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Location:</span>
                <span>MMU Field</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Gathering Type:</span>
                <span>Sports Activity</span>
              </div>
            </div>
            <p class="gathering-description">Interested in playing football and also making friends in general? Come join us playing football and make new friends!</p>
            <div class="attendees-list">
              <h4 class="attendees-title">Participants (8/15):</h4>
              <div class="attendees">
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Wesley (Host)</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>You</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Raj</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>+5 others</span>
                </div>
              </div>
            </div>
            <div class="gathering-actions">
              <button class="action-btn primary-btn">View Details</button>
              <button class="action-btn secondary-btn">Message Host</button>
              <button class="action-btn danger-btn">Leave Gathering</button>
            </div>
          </div>
        </div>
    
            
    
      <div id="find-gatherings" class="tab-content {% if active_tab == 'find-gatherings' %}active{% endif %}">
          <!-- Finding Gathering -->
          <div class="filter-section">
            <h3 class="filter-title">Find Gatherings By:</h3>
            <div class="form-row">
                <div class="filter-form">
                    <div class="form-group">
                      <label for="faculty">Gathering Type</label>
                      <select id="faculty" name="faculty">
                          <option value="study">Study Session</option>
                          <option value="project">Project Collaboration</option>
                          <option value="social">Social Hangout</option>
                          <option value="sports">Sports Activity</option>
                          <option value="sports">Gaming Hangout</option>
                          <option value="other">Other</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="course">Faculty Focus</label>
                      <select id="course" name="course">
                          <option value="study">Faculty of Multimedia</option>
                          <option value="project">Faculty of Computing Informatics</option>
                          <option value="social">Faculty of Management</option>
                          <option value="sports">Faculty of Engineering</option>
                          <option value="sports">Faculty of Applied Communication</option>
                          <option value="sports">Faculty of Cinematic Arts</option>
                          <option value="other">Other</option>
                        
                      </select>
                    </div>
                    <div class="form-group">
                        <label for="eventTitle">Year & Semester</label>
                        <input type="text" id="eventTitle" name="eventTitle" placeholder="E.g. Year 1 Sem 3">
                    </div>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                  <label for="eventDate">Date</label>
                  <input type="date" id="eventDate" name="eventDate">
                </div>
                <div class="form-group">
                  <label for="eventTime">Time</label>
                  <input type="time" id="eventTime" name="eventTime">
                </div>
                <div class="form-group">
                    <label for="interests">Interests</label>
                    <input type="text" id="interests" name="interests" placeholder="E.g. programming, sports, music">
                  </div>
            </div>
                
            <button class="search-btn">Find Students</button>
            </div>
            
          
    
          <!-- Hosting Gathering -->
          <div class="gathering-card hosting">
            <div class="gathering-header">
              <div>
                <h3 class="gathering-title">MLBB Rank Stack</h3>
                <span class="gathering-status hosting">Hosting</span>
              </div>
              <div>
                <p>Created by: Keith Chong</p>
              </div>
            </div>
            <div class="gathering-details">
              <div class="detail-item">
                <span class="detail-label">Faculty:</span>
                <span>Faculty of Computing and Informatics</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Year & Semester:</span>
                <span>Year 2 Sem 1</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Date:</span>
                <span>August 25, 2025</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Time:</span>
                <span>2:00 PM - 5:00 PM</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Location:</span>
                <span>FCI Lounge</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Gathering Type:</span>
                <span>Gaming Hangout</span>
              </div>
              
            </div>
            <p class="gathering-description">Tired of noobs random teammates that is making you have no progress in rank up and also want to find some friends that plays mlbb? Join us to right here and we will rank up together :D.</p>
            <div class="attendees-list">
              <h4 class="attendees-title">Participants (3/5):</h4>
              <div class="attendees">
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>You (Host)</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Ahmad</span>
                </div>
                <div class="attendee">
                  <img src="/api/placeholder/50/50" alt="profile">
                  <span>Sarah</span>
                </div>
              </div>
            </div>
            <div class="gathering-actions">
              <button class="action-btn primary-btn">View Details</button>
              <button class="action-btn secondary-btn">Message Host</button>
              <button class="action-btn danger-btn">Join Gathering</button>
            </div>
          </div>
      </div>
    
      <script>
        // Function to show the selected tab
        function showTab(tabId) {
          // Hide all tab contents
          const tabContents = document.querySelectorAll('.tab-content');
          tabContents.forEach(tab => {
            tab.classList.remove('active');
          });
          
          // Remove active class from all tabs
          const tabs = document.querySelectorAll('.tab');
          tabs.forEach(tab => {
            tab.classList.remove('active');
          });
          
          // Show the selected tab content
          document.getElementById(tabId).classList.add('active');
          
          // Add active class to clicked tab
          event.currentTarget.classList.add('active');
          
          // Update URL with the tab parameter
          const currentUrl = new URL(window.location.href);
          currentUrl.searchParams.set('tab', tabId);
          window.history.pushState({}, '', currentUrl);
          
          // Add a hidden input to any forms in the active tab to maintain tab state
          const forms = document.getElementById(tabId).querySelectorAll('form');
          forms.forEach(form => {
            // Check if the form already has a tab input
            let tabInput = form.querySelector('input[name="tab"]');
            if (!tabInput) {
              tabInput = document.createElement('input');
              tabInput.type = 'hidden';
              tabInput.name = 'tab';
              form.appendChild(tabInput);
            }
            tabInput.value = tabId;
          });
        }

        // Mobile menu toggle
        const menu = document.querySelector('#mobile-menu');
        const menuLinks = document.querySelector('.navbar__menu');
        
        if (menu) {
          menu.addEventListener('click', function() {
            menu.classList.toggle('is-active');
            menuLinks.classList.toggle('active');
          });
        }
        
        // Add tab input to all forms initially
        document.addEventListener('DOMContentLoaded', function() {
          const activeTab = document.querySelector('.tab.active');
          if (activeTab) {
            const tabId = activeTab.getAttribute('data-tab-id') || 'find-partners';
            
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
              if (!form.querySelector('input[name="tab"]')) {
                const tabInput = document.createElement('input');
                tabInput.type = 'hidden';
                tabInput.name = 'tab';
                tabInput.value = tabId;
                form.appendChild(tabInput);
              }
            });
          }
        });

        // Call the updateStudentCards function when the page loads
        window.onload = updateStudentCards;
      </script>
    
      <script src="{{ url_for('static', filename='js/common.js') }}"></script>
    </div>
  </body>
  </html>